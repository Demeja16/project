jQuery(document).ready(function(o){var a=o(".reviews__item").height(),e=o(".reviews__list"),i=o(".reviews__item").length,l=1,t=o(".main-nav");try{var n=o(".about-us").offset().top}catch(t){}o(window).width();var s=o(".overlay");function c(){s.toggleClass("overlay--active"),o(".modal--active").toggleClass("modal--active");try{o("video").trigger("pause")}catch(t){}}o(window).bind("scroll",function(){o(this).scrollTop()>n&&(o(".contacts__map").html('<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d999.297703100568!2d30.322793929901227!3d59.93885554297068!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4696310fca145cc1%3A0x42b32648d8238007!2sBolshaya+Konyushennaya+Street%2C+19%2F8%2C+Sankt-Peterburg%2C+191186!5e0!3m2!1sen!2sru!4v1555322722002!5m2!1sen!2sru" width="100%" height="100%" frameborder="0" style="border:0" allowfullscreen></iframe>'),o(window).unbind("scroll"))}),t.removeClass("main-nav--nojs"),e.height(a),o(".menu-dropdown").click(function(){o(this).toggleClass("menu-dropdown--active"),t.hasClass("main-nav--closed")?t.removeClass("main-nav--closed").addClass("main-nav--opened"):t.removeClass("main-nav--opened").addClass("main-nav--closed")}),o(".user-list__item--search-mock").on("click",function(){s.toggleClass("overlay--active"),o(".search-modal").toggleClass("modal--active")}),o(".slider__button--next").on("click",function(){if(l==i||l<=0||i<l)e.animate({top:"0"},300),l=1;else{var t=-a*l;e.animate({top:""+t},300),l++}}),o(".slider__button--prev").on("click",function(){if(1==l||l<=0||i<l){var t=-a*(i-1);e.animate({top:""+t},300),l=i}else{var t=-a*(l-2);e.animate({top:""+t},300),l--}}),s.on("click",c),o(".modal__close-btn").on("click",c),o(".button-add-to-card").on("click",function(){s.toggleClass("overlay--active"),o(".modal-add-to-card").toggleClass("modal--active")}),o(".video-play").on("click",function(){var t=o(this).data("video");o(".modal-video").filter(function(){return o(this).data("video")==t}).toggleClass("modal--active"),s.toggleClass("overlay--active"),o(".modal--active .video").attr("controls","controls")}),o(".input-tel").on("focus",function(){o(".order-form__phone-icon").attr({fill:"#62d1ba","fill-opacity":"1"})}),o(".input-tel").on("blur",function(){o(".order-form__phone-icon").attr({fill:"#000000","fill-opacity":"0.2"})}),o(".input-email").on("focus",function(){o(".order-form__email-icon").attr({fill:"#62d1ba","fill-opacity":"1"})}),o(".input-email").on("blur",function(){o(".order-form__email-icon").attr({fill:"#000000","fill-opacity":"0.2"})}),o(".input-quantity").keyup(function(){var a=0;o(".input-quantity").each(function(){var t=o(this).data("cost");!this.value.length||isNaN(this.value)||isNaN(t)||(a+=parseFloat(this.value)*parseFloat(t))}),o(".basket__products-summ").html(a.toFixed(2))}),o(".input-quantity").keyup(function(){var t=o(this).data("cost");o(this).siblings(".item-cost").html(o(this).val()*t)}),o(".submit-close-modal").click(c),o(".order-form").submit(function(t){var a=o(this);o.ajax({type:"POST",url:"core/mail.php",data:a.serialize()}).done(function(){s.toggleClass("overlay--active"),o(".success-modal").toggleClass("modal--active"),setTimeout(function(){a.trigger("reset")},1e3)}).fail(function(){s.toggleClass("overlay--active"),o(".error-modal").toggleClass("modal--active")}),t.preventDefault()})});